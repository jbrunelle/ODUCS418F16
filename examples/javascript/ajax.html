<html>
<head>
<title>JavaScript Scope Example</title>

<style>
div {
    padding: 10px;
    border: 1px solid red;
    outline: green dotted thick;
}
</style>

<script type="text/javascript">

window.onerror = function ( message )
{
	document.getElementById("error").innerHTML = "New error: " + message;
}

/**/
function function1()
{
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function() {
	   if (xhr.readyState == XMLHttpRequest.DONE ) {
	      if(xhr.status == 200){
	          document.getElementById("div1").innerHTML = xhr.responseText;
	      }
	      else if(xhr.status == 400) {  // HTTP status
	         alert('Error 400')
	      }
	      else {	
			document.getElementById("error").innerHTML = "New error: " + "We had a non-200 response!";
	      }
	   }
	}

	//xhr.open("GET", "http://www.cs.odu.edu/~jbrunelle/cs518/examples/mysql_examples.txt", true);
	xhr.open("GET", "http://www.cs.odu.edu/~jbrunelle/cs518/", true);
	xhr.send();	
}

</script>

</head>

<body>

<input type="submit" onclick="function1()">
<br><br>
<div id="div1">Output of function1</div>

</body>
</html>
